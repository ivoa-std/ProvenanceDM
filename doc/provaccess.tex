\subsection{Access protocols}
\label{sec:access_protocols}
We envision two possible access protocols:
\begin{itemize}
\item ProvDAL: retrieve provenance information based on given ID of a data entity or activity.
\item ProvTAP: allows detailed queries for provenance information, discovery of datasets based on e.g. code version.
\end{itemize}

\subsection{ProvDAL}
\input{provdal-afterparis}


\subsection{ProvTAP}
% update from François / 2017 15/09
ProvTAP is a TAP service specialisation for delivering IVOA Provenance metadata.
As for any TAP service \citep{std:TAP}, it is providing ADQL query responses
consisting of a single table each, gathering columns selected from various
tables defined in the service's TAP schema. By default, this table is formatted
as a VOTABLE. Other formats (json, tsv, etc...) could be added optionally.

The table and column definitions available in the TAP schema, including their
metadata (unit, ucd, utype, datatype, description), are exactly the ones defined
in the PROV-VOTABLE mapping of the IVOA provenance data model (see table and
column definitions and metadata in Appendix~\ref{sec:appendix-prov-votable}).
This is corresponds to what has been done in the RegTAP specification
\citep{std:RegTAP} for mapping the VOResource data model.

Examples of ADQL queries for ProvTAP are given in
Appendix~\ref{sec:appendix-prov-votable}.
%end of update 

%\TODO{We need more details here! Output of TAP service is NOT a PROV-VOTABLE by default!}

%\TODO{Do we need combined query possibilities, i.e. ask for ObsCore-fields and Provenance fields in one query? Or rather use a 2-step-process, decoupling them from each other?}


%\TODO{Also look at PROV-AQ from the W3C.}

\subsection{VOSI availability and capabilities}
According to the DALI specification for VO services \citep{std:DALI}, a provenance service implementing ProvDAL and/or ProvTAP must provide a VOSI availability interface as well as a capabilities interface with entries for ProvDAL and/or ProvTAP. The \texttt{standardId}s for these provenance interfaces are:

\begin{verbatim}
ivo://ivoa.net/std/ProvenanceDM#ProvDAL-1.0
ivo://ivoa.net/std/ProvenanceDM#ProvTAP-1.0
\end{verbatim}

The capability for a TAP service to support the Provenance DM is expressed by the dataModel element as :
\begin{verbatim}
<dataModel ivoid="ivo://ivoa.net/std/ProvenanceDM#core-1.0">ProvenanceDM-1.0</dataModel>
\end{verbatim}

For ProvTAP, the VOSI tables interface also needs to be provided.

